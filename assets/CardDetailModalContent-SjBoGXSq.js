import{r as c,j as e,R as x}from"./index-CMmmeHog.js";const g=({images:s,availableAuthors:i,onImageClick:m})=>{const[a,r]=c.useState(0);if(!s||s.length===0)return e.jsx("p",{className:"image-carousel-no-images",children:"Nav pieejami attēli."});const d=()=>{const l=a===0?s.length-1:a-1;r(l)},u=()=>{const l=a===s.length-1?0:a+1;r(l)},t=s[a],o=i?i.find(n=>n.id===t.authorId):null,h=o?o.name:"Nezināms autors";return e.jsxs("div",{className:"image-carousel",children:[e.jsx("div",{className:"image-carousel-display",children:e.jsx("img",{src:t.url,alt:t.description||"Karuselis attēls",className:"image-carousel-image",onClick:()=>m(t)})}),t.description&&e.jsxs("p",{className:"image-carousel-description",children:[t.description," (Autors: ",h,")"]}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:d,className:"image-carousel-button prev","aria-label":"Iepriekšējais attēls",children:"< "}),e.jsx("button",{type:"button",onClick:u,className:"image-carousel-button next","aria-label":"Nākamais attēls",children:"> "}),e.jsxs("div",{className:"image-carousel-pagination",children:[a+1," / ",s.length]})]})]})},p=({card:s})=>s?e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:s.title}),e.jsxs("div",{className:"card-detail-modal-meta",children:[e.jsx("span",{className:"card-detail-modal-theme",children:s.themeName||"Nenorādīta"}),e.jsxs("span",{className:"card-detail-modal-author",children:["Autors: ",s.authorName]})]}),s.summary&&e.jsx("p",{className:"card-detail-modal-summary",children:s.summary}),e.jsxs("div",{className:"card-detail-content-section",children:[e.jsx("h3",{children:"Apraksts:"}),e.jsx(x,{content:s.description,onContentChange:null})]}),s.images&&s.images.length>0&&e.jsx("div",{className:"card-detail-content-section",children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Ielādē attēlus..."}),children:e.jsx(g,{images:s.images,availableAuthors:s.allAuthors,onImageClick:()=>{}})})})]}):null;export{p as default};
